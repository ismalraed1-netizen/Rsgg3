<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ØªØ¬Ø± Ø¹Ù…Ø± | Ù‚Ø±ÙŠØ¨Ø§Ù‹ Ø§Ù„Ø§ÙØªØªØ§Ø­</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'neon-purple': '#a855f7',
                        'neon-blue': '#0ea5e9',
                        'dark-bg': '#0f172a',
                    },
                    fontFamily: {
                        'cairo': ['Cairo', 'sans-serif'],
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float': 'float 3s ease-in-out infinite',
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Cairo', sans-serif; background-color: #050505; color: white; overflow-x: hidden; }
        
        /* Grid Background Effect */
        .bg-grid {
            background-size: 40px 40px;
            background-image: linear-gradient(to right, rgba(255, 255, 255, 0.05) 1px, transparent 1px),
                              linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
            mask-image: linear-gradient(to bottom, black 40%, transparent 100%);
        }

        /* Chat Styles */
        .chat-bubble {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 12px;
            margin-bottom: 10px;
            position: relative;
            font-size: 0.95rem;
            line-height: 1.6;
        }
        .chat-user {
            background: linear-gradient(90deg, #2563eb, #1d4ed8);
            align-self: flex-end;
            border-bottom-left-radius: 2px;
            color: white;
        }
        .chat-omar {
            background: #1e293b;
            border: 1px solid #334155;
            align-self: flex-start;
            border-bottom-right-radius: 2px;
            color: #e2e8f0;
        }
        .typing-dot {
            animation: typing 1.4s infinite ease-in-out both;
        }
        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        
        @keyframes typing {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #475569; border-radius: 3px; }
    </style>
</head>
<body class="min-h-screen flex flex-col relative">

    <!-- Background Grid -->
    <div class="absolute inset-0 bg-grid -z-10"></div>

    <!-- Header -->
    <header class="p-6 flex justify-between items-center container mx-auto z-10">
        <div class="text-2xl font-black tracking-tighter flex items-center gap-2">
            <i class="fas fa-gamepad text-neon-purple text-3xl"></i>
            <span class="bg-clip-text text-transparent bg-gradient-to-r from-neon-purple to-neon-blue">
                OMAR STORE
            </span>
        </div>
        <!-- Settings button removed as requested -->
    </header>

    <!-- Main Content -->
    <main class="flex-1 container mx-auto px-4 flex flex-col lg:flex-row items-center justify-center gap-12 py-10">
        
        <!-- Text Section -->
        <div class="lg:w-1/2 text-center lg:text-right space-y-6 z-10">
            <div class="inline-block px-3 py-1 bg-neon-purple/10 border border-neon-purple/50 rounded-full text-neon-purple text-sm font-bold mb-2 animate-pulse-slow">
                ğŸš€ Ù‚Ø±ÙŠØ¨Ø§Ù‹ Ø§Ù„Ø§ÙØªØªØ§Ø­ Ø§Ù„ÙƒØ¨ÙŠØ±
            </div>
            <h1 class="text-5xl lg:text-7xl font-black leading-tight">
                ØºÙŠØ±Ù†Ø§ Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ù„Ø¹Ø¨Ø© <br>
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500">
                    ÙÙŠ Ø¹Ø§Ù„Ù… ÙØ§ÙŠÙ Ø£Ù…
                </span>
            </h1>
            <p class="text-gray-400 text-lg lg:text-xl max-w-xl mx-auto lg:mx-0">
                Ø³ÙƒØ±Ø¨ØªØ§Øª Ø­ØµØ±ÙŠØ©ØŒ Ø³ÙŠØ§Ø±Ø§Øª Ù…Ø¹Ø¯Ù„Ø©ØŒ ÙˆÙ…Ù„Ø§Ø¨Ø³ Ø¨Ø¬ÙˆØ¯Ø© Ø®ÙŠØ§Ù„ÙŠØ©. Ø¬Ù‡Ø² Ù†ÙØ³Ùƒ Ù„Ø£Ù‚ÙˆÙ‰ ØªØ¬Ø±Ø¨Ø© Ø±ÙˆÙ„ Ø¨Ù„Ø§ÙŠ.
            </p>
            
            <!-- Features Icons -->
            <div class="flex justify-center lg:justify-start gap-6 pt-4 text-gray-500">
                <div class="flex flex-col items-center gap-2 hover:text-white transition group">
                    <div class="w-12 h-12 rounded-xl bg-gray-800 flex items-center justify-center group-hover:bg-blue-600 transition duration-300">
                        <i class="fas fa-code fa-lg"></i>
                    </div>
                    <span class="text-xs">Ø³ÙƒØ±Ø¨ØªØ§Øª</span>
                </div>
                <div class="flex flex-col items-center gap-2 hover:text-white transition group">
                    <div class="w-12 h-12 rounded-xl bg-gray-800 flex items-center justify-center group-hover:bg-purple-600 transition duration-300">
                        <i class="fas fa-car fa-lg"></i>
                    </div>
                    <span class="text-xs">Ø³ÙŠØ§Ø±Ø§Øª</span>
                </div>
                <div class="flex flex-col items-center gap-2 hover:text-white transition group">
                    <div class="w-12 h-12 rounded-xl bg-gray-800 flex items-center justify-center group-hover:bg-pink-600 transition duration-300">
                        <i class="fas fa-tshirt fa-lg"></i>
                    </div>
                    <span class="text-xs">Ù…Ù„Ø§Ø¨Ø³</span>
                </div>
            </div>
        </div>

        <!-- Chat Interface (Omar AI) -->
        <div class="lg:w-1/3 w-full max-w-md animate-float z-20">
            <div class="bg-gray-900/80 backdrop-blur-xl border border-gray-700 rounded-2xl shadow-2xl overflow-hidden flex flex-col h-[500px]">
                
                <!-- Chat Header -->
                <div class="bg-gray-800 p-4 border-b border-gray-700 flex items-center gap-3">
                    <div class="relative">
                        <div class="w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-bold border-2 border-gray-900">
                            Ø¹
                        </div>
                        <div class="absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-gray-800"></div>
                    </div>
                    <div>
                        <h3 class="font-bold text-white">Ø¹Ù…Ø± (Ø§Ù„Ù…Ø¯ÙŠØ±)</h3>
                        <p class="text-xs text-green-400">Ù…ØªØµÙ„ Ø§Ù„Ø¢Ù† - AI Powered</p>
                    </div>
                </div>

                <!-- Chat Messages -->
                <div id="chatHistory" class="flex-1 p-4 overflow-y-auto flex flex-col space-y-4">
                    <!-- Initial Message -->
                    <div class="chat-bubble chat-omar">
                        Ù‡Ù„Ø§ ÙˆØ§Ù„Ù„Ù‡! Ù†ÙˆØ±Øª Ø§Ù„Ù…ØªØ¬Ø± ğŸ‘‹ <br>
                        Ø£Ù†Ø§ Ø¹Ù…Ø±ØŒ ØµØ§Ø­Ø¨ Ø§Ù„Ù…ÙƒØ§Ù†. Ù„Ø³Ø§ Ù…Ø§ ÙØªØ­Ù†Ø§ Ø±Ø³Ù…ÙŠØ§Ù‹ØŒ Ø¨Ø³ Ø¢Ù…Ø±Ù†ÙŠØŸ ØªØ¨ÙŠ ØªØ¹Ø±Ù ÙˆØ´ Ø¨Ù†Ø¨ÙŠØ¹ØŸ Ø£Ùˆ Ù…ØªÙ‰ Ø§Ù„Ø§ÙØªØªØ§Ø­ØŸ
                    </div>
                </div>

                <!-- Chat Input -->
                <div class="p-4 bg-gray-800 border-t border-gray-700">
                    <div class="flex gap-2 mb-2 overflow-x-auto pb-2 custom-scroll">
                        <button onclick="sendQuickMessage('Ù…ØªÙ‰ Ø§Ù„Ø§ÙØªØªØ§Ø­ØŸ')" class="whitespace-nowrap bg-gray-700 hover:bg-gray-600 text-xs px-3 py-1 rounded-full text-gray-300 transition">â° Ù…ØªÙ‰ Ø§Ù„Ø§ÙØªØªØ§Ø­ØŸ</button>
                        <button onclick="sendQuickMessage('Ø¹Ù†Ø¯ÙƒÙ… Ø®ØµÙ…ØŸ')" class="whitespace-nowrap bg-gray-700 hover:bg-gray-600 text-xs px-3 py-1 rounded-full text-gray-300 transition">ğŸ’¸ Ø¹Ù†Ø¯ÙƒÙ… Ø®ØµÙ…ØŸ</button>
                        <button onclick="sendQuickMessage('ÙˆØ´ ØªØ¨ÙŠØ¹ÙˆÙ†ØŸ')" class="whitespace-nowrap bg-gray-700 hover:bg-gray-600 text-xs px-3 py-1 rounded-full text-gray-300 transition">ğŸ“¦ ÙˆØ´ Ø§Ù„Ù…Ù†ØªØ¬Ø§ØªØŸ</button>
                    </div>
                    <div class="flex gap-2">
                        <input type="text" id="userMsg" class="flex-1 bg-gray-900 border border-gray-600 rounded-lg px-4 py-2 text-sm text-white focus:outline-none focus:border-neon-purple transition" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù„Ø¹Ù…Ø±..." onkeypress="handleEnter(event)">
                        <button onclick="sendMessage()" class="bg-neon-purple hover:bg-purple-600 text-white p-2 rounded-lg transition w-10 flex items-center justify-center">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <script>
        // --- Configuration ---
        const defaultKey = "AIzaSyDIZ-c5Br5QSoT3W8LGGy2d5-oISvjyD2w";
        let isTyping = false;

        function sendQuickMessage(msg) {
            document.getElementById('userMsg').value = msg;
            sendMessage();
        }

        function handleEnter(e) {
            if(e.key === 'Enter') sendMessage();
        }

        async function sendMessage() {
            if (isTyping) return;
            const input = document.getElementById('userMsg');
            const text = input.value.trim();
            if (!text) return;

            // 1. Add User Message
            addMessage(text, 'user');
            input.value = '';

            // 2. Show Typing Indicator
            isTyping = true;
            const typingId = addTypingIndicator();
            const chatBox = document.getElementById('chatHistory');
            chatBox.scrollTop = chatBox.scrollHeight;

            // 3. Call Gemini
            try {
                const responseText = await callGemini(text);
                removeMessage(typingId);
                addMessage(responseText, 'omar');
            } catch (error) {
                removeMessage(typingId);
                const errorMsg = error.message.startsWith('AI:') ? error.message.replace('AI:', '') : "Ù…Ø¹Ù„ÙŠØ´ØŒ Ø¹Ù†Ø¯ÙŠ Ø¶ØºØ· ÙÙŠ Ø§Ù„Ø³ÙŠØ±ÙØ± Ø­Ø§Ù„ÙŠØ§Ù‹.. ÙƒÙ„Ù…Ù†ÙŠ Ø¨Ø¹Ø¯ Ø´ÙˆÙŠ! ğŸ˜…";
                addMessage(errorMsg, 'omar');
                console.error(error);
            } finally {
                isTyping = false;
            }
        }

        function addMessage(text, sender) {
            const div = document.createElement('div');
            div.className = `chat-bubble ${sender === 'user' ? 'chat-user' : 'chat-omar'} animate-fade-in`;
            div.innerHTML = text.replace(/\*\*(.*?)\*\*/g, '<strong class="text-neon-purple">$1</strong>').replace(/\n/g, '<br>');
            document.getElementById('chatHistory').appendChild(div);
            const chatBox = document.getElementById('chatHistory');
            chatBox.scrollTop = chatBox.scrollHeight;
            return div.id;
        }

        function addTypingIndicator() {
            const id = 'typing-' + Date.now();
            const div = document.createElement('div');
            div.id = id;
            div.className = 'chat-bubble chat-omar w-16 flex items-center justify-center gap-1';
            div.innerHTML = `
                <div class="w-2 h-2 bg-gray-400 rounded-full typing-dot"></div>
                <div class="w-2 h-2 bg-gray-400 rounded-full typing-dot"></div>
                <div class="w-2 h-2 bg-gray-400 rounded-full typing-dot"></div>
            `;
            document.getElementById('chatHistory').appendChild(div);
            return id;
        }

        function removeMessage(id) {
            const el = document.getElementById(id);
            if (el) el.remove();
        }

        // --- GEMINI API CORE ---
        async function callGemini(userMessage) {
            const apiKey = defaultKey;
            const systemPrompt = `
                Ø£Ù†Øª "Ø¹Ù…Ø±"ØŒ Ù…Ø§Ù„Ùƒ "Ù…ØªØ¬Ø± Ø¹Ù…Ø±" Ù„Ø®Ø¯Ù…Ø§Øª FiveM.
                Ø´Ø®ØµÙŠØªÙƒ:
                - ØªØªØ­Ø¯Ø« Ø¨Ø§Ù„Ù„Ù‡Ø¬Ø© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© Ø£Ùˆ Ø§Ù„Ø®Ù„ÙŠØ¬ÙŠØ© Ø§Ù„ÙˆØ¯ÙŠØ© (Ø§Ø³ØªØ®Ø¯Ù… ÙƒÙ„Ù…Ø§Øª Ù…Ø«Ù„: Ù‡Ù„Ø§ØŒ Ø£Ø¨Ø´Ø±ØŒ ÙŠØ§ ØºØ§Ù„ÙŠØŒ Ø³Ù…ØŒ Ù…Ø§ Ø·Ù„Ø¨Øª Ø´ÙŠ).
                - ÙˆØ§Ø«Ù‚ Ù…Ù† Ù…Ù†ØªØ¬Ø§ØªÙƒ ÙˆÙ…ØªØ­Ù…Ø³.
                - Ù…Ø±Ø­ Ù‚Ù„ÙŠÙ„Ø§Ù‹ Ù„ÙƒÙ† Ù…Ø­ØªØ±Ù.
                
                Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±:
                - Ø§Ù„Ø­Ø§Ù„Ø©: Ø§Ù„Ø§ÙØªØªØ§Ø­ Ù‚Ø±ÙŠØ¨Ø§Ù‹ Ø¬Ø¯Ø§Ù‹ (Coming Soon).
                - Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª: Ø³ÙƒØ±Ø¨ØªØ§Øª Ø­ØµØ±ÙŠØ© (Scripts)ØŒ Ø³ÙŠØ§Ø±Ø§Øª Ù…Ø¹Ø¯Ù„Ø© (Custom Cars)ØŒ Ù…Ù„Ø§Ø¨Ø³ (EUP)ØŒ ÙˆÙ…Ø§Ø¨Ø§Øª (MLOs).
                - Ø§Ù„Ø¹Ø±ÙˆØ¶: Ø¥Ø°Ø§ Ø³Ø£Ù„ Ø§Ù„Ø²Ø¨ÙˆÙ† Ø¹Ù† Ø®ØµÙ…ØŒ Ù‚Ù„ Ù„Ù‡: "Ø¹Ø´Ø§Ù†Ùƒ Ø¨Ø³ØŒ Ø®Ø° ÙƒÙˆØ¯ OMAR20 ÙŠØ®ØµÙ… Ù„Ùƒ 20% Ø£ÙˆÙ„ Ù…Ø§ Ù†ÙØªØ­!".
                - Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ: Ù…ØªÙˆØ§Ø¬Ø¯ 24/7.
                
                ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ø±Ø¯:
                - Ø§Ø¬Ø¹Ù„ Ø§Ù„Ø±Ø¯ Ù‚ØµÙŠØ±Ø§Ù‹ ÙˆÙ…Ø®ØªØµØ±Ø§Ù‹ (Ù„Ø§ ØªÙƒØªØ¨ Ù…Ù‚Ø§Ù„Ø§Øª).
                - Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ ğŸš—ğŸ’»ğŸ”¥.
                - Ù„Ø§ ØªØ®Ø±Ø¬ Ø¹Ù† Ø³ÙŠØ§Ù‚ FiveM ÙˆØ§Ù„Ø£Ù„Ø¹Ø§Ø¨.
            `;

            const response = await fetch(
                `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`,
                {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: userMessage }] }],
                        systemInstruction: { parts: [{ text: systemPrompt }] }
                    })
                }
            );

            if (!response.ok) {
                // Parse error body safely
                const errorData = await response.json().catch(() => ({}));
                console.error("Full Error Details:", response.status, errorData);

                if (response.status === 429) {
                    throw new Error("AI:Ù‡Ø¯ÙŠ Ø§Ù„Ù„Ø¹Ø¨ Ø´ÙˆÙŠ ÙŠØ§ ÙˆØ­Ø´! Ø§Ù„Ø³ÙŠØ±ÙØ± Ø¹Ù„ÙŠÙ‡ Ø¶ØºØ·ØŒ Ø¬Ø±Ø¨ Ø¨Ø¹Ø¯ Ø¯Ù‚ÙŠÙ‚Ø© â³");
                }
                
                throw new Error(`API Error: ${response.status}`);
            }

            const data = await response.json();
            return data.candidates[0].content.parts[0].text;
        }
    </script>
</body>
    </html>
